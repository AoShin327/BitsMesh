/* BitsMesh Theme - Meta Discussion Icons & Styles
 *
 * Pixel-level replication of modern forum post-info style
 * Specifications:
 * - Icon size: 12px × 12px
 * - Font size: 11px
 * - Item margin: 4px left/right
 * - vertical-align: middle for all inline elements
 *
 * v1.4.7: SVG Sprite implementation using <use href="#icon-id">
 * Icons are now real SVG elements injected via PHP helper_functions.php
 */

/* ============================================
   Meta Discussion Container
   ============================================ */

.Meta.Meta-Discussion {
    /* NodeSeek .post-info: pixel-perfect replica */
    align-items: center;
    color: rgb(85, 85, 85);
    display: flex;
    flex-wrap: wrap;
    font-size: 11px;
    gap: 0;
    line-height: 19.5px;
}

/* ============================================
   Meta Items Base Style
   ============================================ */

.Meta.Meta-Discussion .MItem {
    align-items: center;
    display: inline-flex;
    margin-left: 4px;
    margin-right: 4px;
    white-space: nowrap;
}

.Meta.Meta-Discussion .MItem:first-child {
    margin-left: 0;
}

.Meta.Meta-Discussion .MItem * {
    vertical-align: middle;
}

/* ============================================
   Meta Items Display - Show all items like NodeSeek
   Only hide duplicate DiscussionAuthor (without icon)
   ============================================ */

/* Hide DiscussionAuthor WITHOUT icon (keep only the one with icon) */
.Meta.Meta-Discussion .MItem.DiscussionAuthor:not(:has(.bits-meta-icon)) {
    display: none;
}

/* Hide DiscussionScore (not used in NodeSeek style) */
.Meta.Meta-Discussion .MItem.DiscussionScore {
    display: none;
}

/* DiscussionAuthor is first .MItem in DOM, so margin-left: 0 */
.Meta.Meta-Discussion .MItem.DiscussionAuthor:has(.bits-meta-icon) {
    margin-left: 0;
}

/* Links inherit gray color, hover shows theme link color */
.Meta.Meta-Discussion .MItem a {
    color: var(--bits-text-gray, #888);
    text-decoration: none;
}

.Meta.Meta-Discussion .MItem a:hover {
    color: var(--bits-link, #0066cc);
}

/* ============================================
   SVG Icon Style - 12px × 12px using <use href>
   ============================================ */

.bits-meta-icon {
    color: var(--bits-text-gray, #888);
    display: inline-block;
    flex-shrink: 0;
    height: 12px;
    margin-right: 3px;
    vertical-align: middle;
    width: 12px;
}

/* Remove old ::before pseudo-element styles */
.Meta.Meta-Discussion .MItem::before {
    display: none;
}

/* ============================================
   MCount Number styling (view count, comment count numbers)
   ============================================ */

.Meta.Meta-Discussion .MItem.MCount {
    font-variant-numeric: tabular-nums;
}

/* ============================================
   Tags and Badges - No icon needed
   ============================================ */

.Meta.Meta-Discussion .Tag .bits-meta-icon,
.Meta.Meta-Discussion .MItem.DiscussionScore .bits-meta-icon,
.Meta.Meta-Discussion .MItem.Category .bits-meta-icon,
.Meta.Meta-Discussion .NewCommentCount .bits-meta-icon {
    display: none;
}

/* New comment badge styling */
.Meta.Meta-Discussion .NewCommentCount {
    background-color: #888;
    border-radius: 2px;
    color: #fff;
    font-size: 10px;
    font-weight: 600;
    padding: 1px 4px;
}

/* ============================================
   Dark Mode Adjustments
   ============================================ */

body.dark-layout .Meta.Meta-Discussion {
    color: var(--bits-text-gray, #999);
}

body.dark-layout .bits-meta-icon {
    color: var(--bits-text-gray, #999);
}

body.dark-layout .Meta.Meta-Discussion .MItem a {
    color: var(--bits-text-gray, #999);
}

body.dark-layout .Meta.Meta-Discussion .MItem a:hover {
    color: var(--bits-link, #6bb3ff);
}

/* ============================================
   Responsive - Mobile adjustments
   ============================================ */

@media screen and (max-width: 500px) {
    .Meta.Meta-Discussion {
        font-size: 10px;
    }

    .bits-meta-icon {
        height: 10px;
        width: 10px;
    }

    .Meta.Meta-Discussion .MItem {
        margin-left: 3px;
        margin-right: 3px;
    }

    /* Hide category on very small screens to save space */
    .Meta.Meta-Discussion .MItem.Category {
        display: none;
    }
}

/* ============================================
   Discussion List specific overrides
   Ensure these styles apply to ul.DataList context
   ============================================ */

ul.DataList .ItemContent.Discussion .Meta.Meta-Discussion {
    /* NodeSeek .post-info: margin-top 0px (verified via getComputedStyle) */
    margin-top: 0px;
}

/* Ensure SVG icons display correctly in list context */
ul.DataList .Meta.Meta-Discussion .bits-meta-icon {
    color: var(--bits-text-gray, #888);
}

body.dark-layout ul.DataList .Meta.Meta-Discussion .bits-meta-icon {
    color: var(--bits-text-gray, #999);
}
